# AIOps æ™ºæ…§ç¶­é‹å ±å‘Š RAG ç³»çµ±

> åŸºæ–¼ LangChain LCEL å’Œ HyDE æŠ€è¡“çš„æ™ºæ…§ç¶­é‹å ±å‘Šç”Ÿæˆç³»çµ±

## ğŸ¯ ç³»çµ±ç°¡ä»‹

æœ¬ç³»çµ±è‡ªå‹•åˆ†æç›£æ§æ•¸æ“šä¸¦ç”Ÿæˆå°ˆæ¥­çš„ç¶­é‹æ´è¦‹å ±å‘Šï¼Œæ¡ç”¨å…ˆé€²çš„ RAG (æª¢ç´¢å¢å¼·ç”Ÿæˆ) æ¶æ§‹ï¼Œçµåˆ HyDE æŠ€è¡“å’Œå¤šæŸ¥è©¢æª¢ç´¢ç­–ç•¥ï¼Œç‚º DevOps åœ˜éšŠæä¾›ç²¾æº–çš„ç³»çµ±åˆ†æå’Œå¯åŸ·è¡Œçš„å„ªåŒ–å»ºè­°ã€‚

## âš¡ æ ¸å¿ƒå„ªå‹¢

| ç‰¹è‰² | èªªæ˜ | æ•ˆç›Š |
|------|------|------|
| ğŸ¤– **æ™ºæ…§åˆ†æ** | HyDE + RAG-Fusion æ¶æ§‹ | æ·±åº¦ç¶­é‹æ´è¦‹ |
| ğŸ”— **LangChain LCEL** | è²æ˜å¼ RAG æµç¨‹ | æ”¯æ´ fallback æ©Ÿåˆ¶ |
| âš¡ **é«˜æ•ˆèƒ½** | æ™ºæ…§å¿«å–æ©Ÿåˆ¶ | 85% API æˆæœ¬ç¯€çœ |
| ğŸ›¡ï¸ **ä¼æ¥­ç´š** | å®Œæ•´éŒ¯èª¤è™•ç† | 85%+ æ¸¬è©¦è¦†è“‹ç‡ |
| ğŸ“Š **å³æ™‚ç›£æ§** | Prometheus + Grafana | å³æ™‚ç³»çµ±ç‹€æ…‹ |

## ğŸš€ å¿«é€Ÿé–‹å§‹

### 1. ä¸€éµéƒ¨ç½²

```bash
# Clone å°ˆæ¡ˆ
git clone https://github.com/your-username/aiops-rag-system.git
cd aiops-rag-system

# è¨­å®šç’°å¢ƒè®Šæ•¸
cp .env.example .env
# ç·¨è¼¯ .envï¼Œå¡«å…¥ Gemini API Key

# å•Ÿå‹•æœå‹™
docker-compose up -d
```

### 2. æ¸¬è©¦ API

```bash
curl -X POST http://localhost:8000/api/v1/generate_report \
  -H "Content-Type: application/json" \
  -d '{
    "monitoring_data": {
      "ä¸»æ©Ÿ": "web-prod-03",
      "CPUä½¿ç”¨ç‡": "75%",
      "RAMä½¿ç”¨ç‡": "95%"
    }
  }'
```

### 3. å­˜å–æœå‹™

- **API æ–‡æª”**: http://localhost:8000/docs
- **Grafana**: http://localhost:3000 (admin/admin)
- **Prometheus**: http://localhost:9090

## ğŸ—ï¸ ç³»çµ±æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastAPI   â”‚â”€â”€â”€â”€â–¶â”‚  LangChain   â”‚â”€â”€â”€â”€â–¶â”‚   Gemini    â”‚
â”‚     API     â”‚     â”‚   RAG Chain  â”‚     â”‚  API (LLM)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                    â”‚                     
       â–¼                    â–¼                    
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Prometheus  â”‚     â”‚  OpenSearch  â”‚     â”‚   Grafana   â”‚
â”‚  Metrics    â”‚     â”‚Vector Store  â”‚     â”‚ Dashboard   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“š API ç«¯é»

| ç«¯é» | æ–¹æ³• | èªªæ˜ |
|------|------|------|
| `/api/v1/generate_report` | POST | ç”Ÿæˆç¶­é‹å ±å‘Š |
| `/api/v1/metrics/{hostname}` | GET | å–å¾—ä¸»æ©ŸæŒ‡æ¨™ |
| `/api/v1/cache/info` | GET | å¿«å–ç‹€æ…‹è³‡è¨Š |
| `/api/v1/cache/clear` | POST | æ¸…é™¤å¿«å– |

## ğŸ› ï¸ é–‹ç™¼æŒ‡å—

### æœ¬åœ°é–‹ç™¼

```bash
# å®‰è£ä¾è³´
pip install -r requirements.txt

# åŸ·è¡Œæ¸¬è©¦
pytest tests/ --cov=src --cov-fail-under=85

# å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨
uvicorn src.main:app --reload
```

## ğŸ“Š æ•ˆèƒ½æŒ‡æ¨™

- **API æˆæœ¬**: é™ä½ 85%
- **å¿«å–å‘½ä¸­ç‡**: 70%+  
- **å›æ‡‰æ™‚é–“**: < 5ç§’ (P95)
- **æ¸¬è©¦è¦†è“‹ç‡**: 85%+

## ğŸ“– å®Œæ•´æ–‡æª”

### ğŸ—ï¸ ç³»çµ±æ¶æ§‹
- [ç³»çµ±è¨­è¨ˆ](./docs/architecture/system-design.md) - æ•´é«”æ¶æ§‹å’Œæ ¸å¿ƒçµ„ä»¶

### ğŸ’» é–‹ç™¼æŒ‡å—
- [æœ¬åœ°ç’°å¢ƒè¨­ç½®](./docs/development/local-setup.md) - é–‹ç™¼ç’°å¢ƒé…ç½®
- [éŒ¯èª¤è™•ç†æœ€ä½³å¯¦è¸](./docs/development/error-handling.md) - éŒ¯èª¤è™•ç†æ©Ÿåˆ¶
- [æ•ˆèƒ½å„ªåŒ–æŒ‡å—](./docs/development/optimization-guide.md) - RAG ç³»çµ±å„ªåŒ–
- [ç³»çµ±å„ªåŒ–èªªæ˜](./docs/development/optimizations.md) - å„ªåŒ–å¯¦ä½œç´°ç¯€
- [å„ªåŒ–ç¸½çµ](./docs/development/OPTIMIZATION_SUMMARY.md) - å„ªåŒ–æˆæœç¸½çµ

### ğŸš€ éƒ¨ç½²æŒ‡å—
- [Docker éƒ¨ç½²](./docs/deployment/docker-guide.md) - å®¹å™¨åŒ–éƒ¨ç½²å®Œæ•´æŒ‡å—

### ğŸ“¡ API æ–‡æª”
- [ç«¯é»åƒè€ƒ](./docs/api/endpoints.md) - è©³ç´°çš„ API ç«¯é»èªªæ˜

### ğŸ”— LangChain æ•´åˆ
- [é‡æ§‹å ±å‘Š](./docs/langchain_refactoring_report.md) - LangChain LCEL é‡æ§‹è©³ç´°èªªæ˜
- [é·ç§»æŒ‡å—](./docs/langchain_migration_guide.md) - å¾åŸå¯¦ä½œé·ç§»æŒ‡å—
- [GitHub Actions è®Šæ›´](./docs/github-actions-changes.md) - CI/CD é…ç½®æ›´æ–°

### ğŸ“š æ–‡æª”ç´¢å¼•
- [æ–‡æª”ç›®éŒ„](./docs/README.md) - å®Œæ•´æ–‡æª”å°èˆªå’Œèªªæ˜

## ğŸ¤ è²¢ç»

æ­¡è¿æäº¤ Issue å’Œ PRï¼è«‹ç¢ºä¿ï¼š
- éµå¾ªç¨‹å¼ç¢¼è¦ç¯„
- ç¶­æŒæ¸¬è©¦è¦†è“‹ç‡ 85%+
- æ›´æ–°ç›¸é—œæ–‡ä»¶

## ğŸ“ æˆæ¬Š

MIT License - è©³è¦‹ [LICENSE](LICENSE)

---

â­ è¦ºå¾—æœ‰å¹«åŠ©å—ï¼Ÿçµ¦å€‹æ˜Ÿæ˜Ÿå§ï¼
